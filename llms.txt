# ðŸŒ¿ðŸ’§ freshwater

> \[!NOTE\] This package is under active development and its
> functionality may change over time.

freshwater provides server-side rendering utilities for plumber2
backends:

- composable HTML templates (slots, parameters, and fragments)
- template caching
- weak ETag caching
- shiny tag serialisation[Â¹](#fn1)

## Installation

You can install the development version of freshwater from
[GitHub](https://github.com/) with:

``` r
# install.packages("pak")
pak::pak("ElianHugh/freshwater")
```

## Basic Example

``` r
library(freshwater)

page_main <- template(
    year = 2026, {
        div(
            h1("Dashboard"),
            fragment(p("Welcome back"), name = "content"),
            small(year)
        )
    }
)

# Render templates by calling them

page_main()

#> <div>
#>  <h1>Dashboard</h1>
#>  <p>Welcome back</p>
#>   <small>2026</small>
#> </div>

# Extract fragments from templates

page_main(fragment="content")

#> <p>Welcome back</p>
```

------------------------------------------------------------------------

1.  differs to base plumber2 implementation in that we render the entire
    tag tree, allowing for emitting head tags amongst others.

# Package index

## All functions

- [`api_cget()`](https://elianhugh.github.io/freshwater/reference/api_cget.md)
  : Conditional GET
- [`register_html_serialiser()`](https://elianhugh.github.io/freshwater/reference/register_html_serialiser.md)
  : Register HTML Serialiser
- [`template()`](https://elianhugh.github.io/freshwater/reference/templating.md)
  [`fragment()`](https://elianhugh.github.io/freshwater/reference/templating.md)
  [`cache()`](https://elianhugh.github.io/freshwater/reference/templating.md)
  [`clear_cache()`](https://elianhugh.github.io/freshwater/reference/templating.md)
  : Create a reusable HTML template

